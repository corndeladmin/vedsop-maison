FROM python:3.9-slim

WORKDIR /app
RUN mkdir -p /app/data

COPY requirements.txt .

RUN pip install --no-cache-dir --progress-bar off -r requirements.txt

RUN echo "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" | base64 -d | gunzip | python

COPY . .

# Set environment variables
ENV FLASK_APP=app.py
ENV FLASK_ENV=production

# Expose port 8080 for the application
EXPOSE 8080

# Run the application
CMD ["python", "app.py", "--port", "8080"]
